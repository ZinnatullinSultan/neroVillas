document.querySelectorAll(".faq__item").forEach((e=>{e.addEventListener("click",(function(){const t=e.querySelector(".faq__text"),o=e.querySelector(".faq__btn");t.classList.toggle("faq__text--active"),o.classList.toggle("faq__btn--active")}))}));const overlay=document.querySelector(".overlay-site"),form=document.querySelector(".form-container"),btn=document.querySelectorAll(".btn-form");btn.forEach((e=>{e.addEventListener("click",(()=>{overlay.classList.add("active"),form.classList.add("active")}))})),overlay.addEventListener("click",(()=>{overlay.classList.remove("active"),form.classList.remove("active")})),document.getElementById("consultation-form").addEventListener("submit",(function(e){e.preventDefault();const t=new FormData(this),o=[];if(document.querySelectorAll('input[name="contact_method"]:checked').forEach((e=>{o.push(e.value)})),0===o.length)return void alert("Выберите хотя бы один способ связи.");t.delete("contact_method"),t.append("contact_method",o.join(", "));const n=JSON.stringify(Object.fromEntries(t));fetch("/send",{method:"POST",headers:{"Content-Type":"application/json"},body:n}).then((e=>e.json())).then((e=>{const t=document.getElementById("serverMessage");e.success?(t.textContent="Заявка успешно отправлена!",t.style.color="green"):(t.textContent="Ошибка при отправке заявки.",t.style.color="red")})).catch((e=>{document.getElementById("serverMessage").textContent="Произошла ошибка при отправке заявки."}))}));